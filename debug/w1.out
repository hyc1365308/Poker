g++ -std=c++11 -c room.cpp -o room.o
g++ ./lib_json/json_reader.o ./lib_json/json_writer.o ./lib_json/json_value.o ./game/Player.o ./game/Game.o room.o hall.o server.cpp -lws2_32 -o server2

Read players data
Num     id     password     money
  0     test     12345678 1000000
  1     poor        12334   10000
  2        1            1   10000
  3        2            2   20000
  4        3            3   30000
  5        4            4   40000
  6        5            5   50000
  7        6            6   60000
  8        7            7   70000
  9        8            8   80000
 10        9            9   90000
 11       10           10 1000000
 12  player1      1234567  100000
 13  player2      1234567  200000
 14  player3      1234567  300000
 15  player4      1234567  400000
 16  player5      1234567  500000
 17  player6      1234567  600000
Room 0 is created
Room 1 is created
Room 2 is created
Room 3 is created
Room 4 is created
Room 5 is created
server is running now
hall thread is running

Waiting for connecting...
Connect a client 59.66.131.74:61667
Recv : {
   "password" : "1",
   "type" : 1,
   "username" : ""
}
#$#
verify user
        username:
        password: 1

user not in the name list
user name:
A new player login now
player id = , sock = 252

Send
{
   "money" : 0,
   "result" : 0,
   "type" : 7
}
#$#       ret = 55
Player  quit now

Waiting for connecting...
Connect a client 59.66.131.74:61923
Recv : {
   "password" : "1",
   "type" : 1,
   "username" : ""
}
#$#
verify user
        username:
        password: 1

user not in the name list
user name:
A new player login now
player id = , sock = 256

Send
{
   "money" : 0,
   "result" : 0,
   "type" : 7
}
#$#       ret = 55
Player  quit now

Waiting for connecting...
Connect a client 59.66.131.74:62435
Recv : {
   "password" : "1",
   "type" : 1,
   "username" : "1"
}
#$#
verify user
        username: 1
        password: 1

A new player login now
player id = 1, sock = 252

Send 1
{
   "money" : 10000,
   "result" : 1,
   "type" : 7
}
#$#       ret = 59
insert a new player into the hall
player user id: 1, socket num = 252
now hall has 0 players
Now hall has 1 players

Waiting for connecting...

Recv 1
{
   "room" : 1,
   "type" : 2
}
#$#       ret = 36
sock user id: 1, socket num = 252 get a packet
Room 1 join a new player

Send 1
{
   "result" : 1,
   "room" : 1,
   "type" : 6
}
#$#       ret = 54

Send 1
{
   "room_id" : 1,
   "seat" : [
      {
         "id" : "1",
         "is_in" : true,
         "money" : 10000
      }
   ],
   "type" : 18
}
#$#       ret = 148
erase user id: 1, socket num = 252
Now hall has 0 member
Connect a client 59.66.131.74:62691
Recv : {
   "password" : "2",
   "type" : 1,
   "username" : "2"
}
#$#
verify user
        username: 2
        password: 2

A new player login now
player id = 2, sock = 264

Send 2
{
   "money" : 20000,
   "result" : 1,
   "type" : 7
}
#$#       ret = 59
insert a new player into the hall
player user id: 2, socket num = 264
now hall has 0 players
Now hall has 1 players

Waiting for connecting...

Recv 2
{
   "room" : 1,
   "type" : 2
}
#$#       ret = 36
sock user id: 2, socket num = 264 get a packet
Room 1 join a new player

Send 1
{
   "result" : 1,
   "room" : 1,
   "type" : 6
}
#$#       ret = 54

Send 1
{
   "room_id" : 1,
   "seat" : [
      {
         "id" : "1",
         "is_in" : true,
         "money" : 10000
      },
      {
         "id" : "2",
         "is_in" : false,
         "money" : 20000
      }
   ],
   "type" : 18
}
#$#       ret = 237

Send 2
{
   "result" : 1,
   "room" : 1,
   "type" : 6
}
#$#       ret = 54

Send 2
{
   "room_id" : 1,
   "seat" : [
      {
         "id" : "1",
         "is_in" : false,
         "money" : 10000
      },
      {
         "id" : "2",
         "is_in" : true,
         "money" : 20000
      }
   ],
   "type" : 18
}
#$#       ret = 237
erase user id: 2, socket num = 264
Now hall has 0 member
Connect a client 59.66.131.74:62947
Recv : {
   "password" : "3",
   "type" : 1,
   "username" : "3"
}
#$#
verify user
        username: 3
        password: 3

A new player login now
player id = 3, sock = 268

Send 3
{
   "money" : 30000,
   "result" : 1,
   "type" : 7
}
#$#       ret = 59
insert a new player into the hall
player user id: 3, socket num = 268
now hall has 0 players
Now hall has 1 players

Waiting for connecting...

Recv 3
{
   "room" : 1,
   "type" : 2
}
#$#       ret = 36
sock user id: 3, socket num = 268 get a packet
Room 1 join a new player

Send 1
{
   "result" : 1,
   "room" : 1,
   "type" : 6
}
#$#       ret = 54

Send 1
{
   "room_id" : 1,
   "seat" : [
      {
         "id" : "1",
         "is_in" : true,
         "money" : 10000
      },
      {
         "id" : "2",
         "is_in" : false,
         "money" : 20000
      },
      {
         "id" : "3",
         "is_in" : false,
         "money" : 30000
      }
   ],
   "type" : 18
}
#$#       ret = 326

Send 2
{
   "result" : 1,
   "room" : 1,
   "type" : 6
}
#$#       ret = 54

Send 2
{
   "room_id" : 1,
   "seat" : [
      {
         "id" : "1",
         "is_in" : false,
         "money" : 10000
      },
      {
         "id" : "2",
         "is_in" : true,
         "money" : 20000
      },
      {
         "id" : "3",
         "is_in" : false,
         "money" : 30000
      }
   ],
   "type" : 18
}
#$#       ret = 326

Send 3
{
   "result" : 1,
   "room" : 1,
   "type" : 6
}
#$#       ret = 54

Send 3
{
   "room_id" : 1,
   "seat" : [
      {
         "id" : "1",
         "is_in" : false,
         "money" : 10000
      },
      {
         "id" : "2",
         "is_in" : false,
         "money" : 20000
      },
      {
         "id" : "3",
         "is_in" : true,
         "money" : 30000
      }
   ],
   "type" : 18
}
#$#       ret = 326
erase user id: 3, socket num = 268
Now hall has 0 member
Room 1 has 3 players
Now begin a new game
init end
2
3
10000
3
1
20000
1
2
30000
room id is 1
money = 10000
money = 20000
money = 30000
doing blindBet.....
Send 1
{
   "money_left" : 9900,
   "money_op" : 100,
   "player_op" : 10,
   "player_pos" : 0,
   "type" : 16
}
#$#       ret = 110

Send 2
{
   "money_left" : 9900,
   "money_op" : 100,
   "player_op" : 10,
   "player_pos" : 0,
   "type" : 16
}
#$#       ret = 110

Send 3
{
   "money_left" : 9900,
   "money_op" : 100,
   "player_op" : 10,
   "player_pos" : 0,
   "type" : 16
}
#$#       ret = 110

Send 1
{
   "money_left" : 19800,
   "money_op" : 200,
   "player_op" : 10,
   "player_pos" : 1,
   "type" : 16
}
#$#       ret = 111

Send 2
{
   "money_left" : 19800,
   "money_op" : 200,
   "player_op" : 10,
   "player_pos" : 1,
   "type" : 16
}
#$#       ret = 111

Send 3
{
   "money_left" : 19800,
   "money_op" : 200,
   "player_op" : 10,
   "player_pos" : 1,
   "type" : 16
}
#$#       ret = 111
done
doing lcsPlayer...send license info now
now send message 3

Send 3
{
   "card" : 43,
   "type" : 19
}
#$#       ret = 39
send license info now
now send message 3

Send 3
{
   "card" : 26,
   "type" : 19
}
#$#       ret = 39
send license info now
now send message 1

Send 1
{
   "card" : 46,
   "type" : 19
}
#$#       ret = 39
send license info now
now send message 1

Send 1
{
   "card" : 36,
   "type" : 19
}
#$#       ret = 39
send license info now
now send message 2

Send 2
{
   "card" : 33,
   "type" : 19
}
#$#       ret = 39
send license info now
now send message 2

Send 2
{
   "card" : 25,
   "type" : 19
}
#$#       ret = 39
done
doing betTurn.....3
ready for operate...

Now turn to player 3

Send 3
{
   "cur_max_money" : 200,
   "type" : 15
}
#$#       ret = 49

Recv 3
{
   "type" : 11
}
#$#       ret = 22
get operation done
done
Bet 200!

Send 1
{
   "money_left" : 29800,
   "money_op" : 200,
   "player_op" : 11,
   "player_pos" : 2,
   "type" : 16
}
#$#       ret = 111

Send 2
{
   "money_left" : 29800,
   "money_op" : 200,
   "player_op" : 11,
   "player_pos" : 2,
   "type" : 16
}
#$#       ret = 111
name:3
_money: 29800, _presentBet: 200, _gameResult: 0
_fold : 0,      _allin: 0
Card: S5, C1

3
ready for operate...

Now turn to player 1

Send 1
{
   "cur_max_money" : 200,
   "type" : 15
}
#$#       ret = 49

Recv 1
{
   "type" : 11
}
#$#       ret = 22
get operation done
done
Bet 100!

Send 2
{
   "money_left" : 9800,
   "money_op" : 200,
   "player_op" : 11,
   "player_pos" : 0,
   "type" : 16
}
#$#       ret = 110

Send 3
{
   "money_left" : 9800,
   "money_op" : 200,
   "player_op" : 11,
   "player_pos" : 0,
   "type" : 16
}
#$#       ret = 110
name:1
_money: 9800, _presentBet: 200, _gameResult: 0
_fold : 0,      _allin: 0
Card: S8, C11

done
Flop
doing lcsPublic...send public license info now

Send 1
{
   "card" : 47,
   "index" : 1,
   "type" : 20
}
#$#       ret = 55

Send 2
{
   "card" : 47,
   "index" : 1,
   "type" : 20
}
#$#       ret = 55

Send 3
{
   "card" : 47,
   "index" : 1,
   "type" : 20
}
#$#       ret = 55
done
doing lcsPublic...send public license info now

Send 1
{
   "card" : 34,
   "index" : 2,
   "type" : 20
}
#$#       ret = 55

Send 2
{
   "card" : 34,
   "index" : 2,
   "type" : 20
}
#$#       ret = 55

Send 3
{
   "card" : 34,
   "index" : 2,
   "type" : 20
}
#$#       ret = 55
done
doing lcsPublic...send public license info now

Send 1
{
   "card" : 6,
   "index" : 3,
   "type" : 20
}
#$#       ret = 54

Send 2
{
   "card" : 6,
   "index" : 3,
   "type" : 20
}
#$#       ret = 54

Send 3
{
   "card" : 6,
   "index" : 3,
   "type" : 20
}
#$#       ret = 54
done
doing betTurn.....3
ready for operate...

Now turn to player 2

Send 2
{
   "cur_max_money" : 200,
   "type" : 15
}
#$#       ret = 49

Recv 2
{
   "money" : 300,
   "type" : 10
}
#$#       ret = 40
get operation done
done
Bet 300!

Send 1
{
   "money_left" : 19500,
   "money_op" : 500,
   "player_op" : 10,
   "player_pos" : 1,
   "type" : 16
}
#$#       ret = 111

Send 3
{
   "money_left" : 19500,
   "money_op" : 500,
   "player_op" : 10,
   "player_pos" : 1,
   "type" : 16
}
#$#       ret = 111
name:2
_money: 19500, _presentBet: 500, _gameResult: 0
_fold : 0,      _allin: 0
Card: C8, D13

3
ready for operate...

Now turn to player 3

Send 3
{
   "cur_max_money" : 500,
   "type" : 15
}
#$#       ret = 49

Recv 3
{
   "type" : 11
}
#$#       ret = 22
get operation done
done
Bet 300!

Send 1
{
   "money_left" : 29500,
   "money_op" : 500,
   "player_op" : 11,
   "player_pos" : 2,
   "type" : 16
}
#$#       ret = 111

Send 2
{
   "money_left" : 29500,
   "money_op" : 500,
   "player_op" : 11,
   "player_pos" : 2,
   "type" : 16
}
#$#       ret = 111
name:3
_money: 29500, _presentBet: 500, _gameResult: 0
_fold : 0,      _allin: 0
Card: S5, C1

3
ready for operate...

Now turn to player 1

Send 1
{
   "cur_max_money" : 500,
   "type" : 15
}
#$#       ret = 49

Recv 1
{
   "type" : 11
}
#$#       ret = 22
get operation done
done
Bet 300!

Send 2
{
   "money_left" : 9500,
   "money_op" : 500,
   "player_op" : 11,
   "player_pos" : 0,
   "type" : 16
}
#$#       ret = 110

Send 3
{
   "money_left" : 9500,
   "money_op" : 500,
   "player_op" : 11,
   "player_pos" : 0,
   "type" : 16
}
#$#       ret = 110
name:1
_money: 9500, _presentBet: 500, _gameResult: 0
_fold : 0,      _allin: 0
Card: S8, C11

done
Turn
doing lcsPublic...send public license info now

Send 1
{
   "card" : 38,
   "index" : 4,
   "type" : 20
}
#$#       ret = 55

Send 2
{
   "card" : 38,
   "index" : 4,
   "type" : 20
}
#$#       ret = 55

Send 3
{
   "card" : 38,
   "index" : 4,
   "type" : 20
}
#$#       ret = 55
done
doing betTurn.....3
ready for operate...

Now turn to player 2

Send 2
{
   "cur_max_money" : 500,
   "type" : 15
}
#$#       ret = 49

Recv 2
{
   "money" : 400,
   "type" : 10
}
#$#       ret = 40
get operation done
done
Bet 400!

Send 1
{
   "money_left" : 19100,
   "money_op" : 900,
   "player_op" : 10,
   "player_pos" : 1,
   "type" : 16
}
#$#       ret = 111

Send 3
{
   "money_left" : 19100,
   "money_op" : 900,
   "player_op" : 10,
   "player_pos" : 1,
   "type" : 16
}
#$#       ret = 111
name:2
_money: 19100, _presentBet: 900, _gameResult: 0
_fold : 0,      _allin: 0
Card: C8, D13

3
ready for operate...

Now turn to player 3

Send 3
{
   "cur_max_money" : 900,
   "type" : 15
}
#$#       ret = 49

Recv 3
{
   "type" : 11
}
#$#       ret = 22
get operation done
done
Bet 400!

Send 1
{
   "money_left" : 29100,
   "money_op" : 900,
   "player_op" : 11,
   "player_pos" : 2,
   "type" : 16
}
#$#       ret = 111

Send 2
{
   "money_left" : 29100,
   "money_op" : 900,
   "player_op" : 11,
   "player_pos" : 2,
   "type" : 16
}
#$#       ret = 111
name:3
_money: 29100, _presentBet: 900, _gameResult: 0
_fold : 0,      _allin: 0
Card: S5, C1

3
ready for operate...

Now turn to player 1

Send 1
{
   "cur_max_money" : 900,
   "type" : 15
}
#$#       ret = 49

Recv 1
{
   "type" : 11
}
#$#       ret = 22
get operation done
done
Bet 400!

Send 2
{
   "money_left" : 9100,
   "money_op" : 900,
   "player_op" : 11,
   "player_pos" : 0,
   "type" : 16
}
#$#       ret = 110

Send 3
{
   "money_left" : 9100,
   "money_op" : 900,
   "player_op" : 11,
   "player_pos" : 0,
   "type" : 16
}
#$#       ret = 110
name:1
_money: 9100, _presentBet: 900, _gameResult: 0
_fold : 0,      _allin: 0
Card: S8, C11

done
River
doing lcsPublic...send public license info now

Send 1
{
   "card" : 35,
   "index" : 5,
   "type" : 20
}
#$#       ret = 55

Send 2
{
   "card" : 35,
   "index" : 5,
   "type" : 20
}
#$#       ret = 55

Send 3
{
   "card" : 35,
   "index" : 5,
   "type" : 20
}
#$#       ret = 55
done
doing betTurn.....3
ready for operate...

Now turn to player 2

Send 2
{
   "cur_max_money" : 900,
   "type" : 15
}
#$#       ret = 49

Recv 2
{
   "type" : 11
}
#$#       ret = 22
get operation done
done
Bet 0!

Send 1
{
   "money_left" : 19100,
   "money_op" : 900,
   "player_op" : 11,
   "player_pos" : 1,
   "type" : 16
}
#$#       ret = 111

Send 3
{
   "money_left" : 19100,
   "money_op" : 900,
   "player_op" : 11,
   "player_pos" : 1,
   "type" : 16
}
#$#       ret = 111
name:2
_money: 19100, _presentBet: 900, _gameResult: 0
_fold : 0,      _allin: 0
Card: C8, D13

3
ready for operate...

Now turn to player 3

Send 3
{
   "cur_max_money" : 900,
   "type" : 15
}
#$#       ret = 49

Recv 3
{
   "type" : 11
}
#$#       ret = 22
get operation done
done
Bet 0!

Send 1
{
   "money_left" : 29100,
   "money_op" : 900,
   "player_op" : 11,
   "player_pos" : 2,
   "type" : 16
}
#$#       ret = 111

Send 2
{
   "money_left" : 29100,
   "money_op" : 900,
   "player_op" : 11,
   "player_pos" : 2,
   "type" : 16
}
#$#       ret = 111
name:3
_money: 29100, _presentBet: 900, _gameResult: 0
_fold : 0,      _allin: 0
Card: S5, C1

3
ready for operate...

Now turn to player 1

Send 1
{
   "cur_max_money" : 900,
   "type" : 15
}
#$#       ret = 49

Recv 1
{
   "type" : 11
}
#$#       ret = 22
get operation done
done
Bet 0!

Send 2
{
   "money_left" : 9100,
   "money_op" : 900,
   "player_op" : 11,
   "player_pos" : 0,
   "type" : 16
}
#$#       ret = 110

Send 3
{
   "money_left" : 9100,
   "money_op" : 900,
   "player_op" : 11,
   "player_pos" : 0,
   "type" : 16
}
#$#       ret = 110
name:1
_money: 9100, _presentBet: 900, _gameResult: 0
_fold : 0,      _allin: 0
Card: S8, C11

done
CalcPattern
calculating pattern...S9
C9
H7
C13
C10
suit is 4250857, which is beyond the range
Assertion failed!

Program: E:\program\Project\Poker\server2.exe
File: ./game/card.h, Line 137

Expression: false

This application has requested the Runtime to terminate it in an unusual way.
Please contact the application's support team for more information.

E:\program\Project\Poker>